{"version":3,"sources":["webpack:///./src/views/Dashboard.vue?8346","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3f19","webpack:///./src/views/Dashboard.vue","webpack:///./src/apis/authorization.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","on","$event","preventDefault","signout","token","_e","staticRenderFns","name","data","checkSuccess","created","checkLogin","methods","document","cookie","console","log","$router","push","component","signIn","email","password","apiHelper","post","checkToken","replace","api_token"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,mBAAmBF,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,YAAY,CAACP,EAAIM,GAAG,UAAUN,EAAIM,GAAG,OAAOF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,MAAM,CAACP,EAAIM,GAAG,UAAUN,EAAIM,GAAG,OAAOF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,oBAAoB,CAACP,EAAIM,GAAG,UAAUN,EAAIM,GAAG,OAAOF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIM,GAAG,WAAWN,EAAIM,GAAG,OAAOF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,QAAQF,MAAW,CAACT,EAAIM,GAAG,SAAS,GAAIN,EAAgB,aAAEI,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAIY,SAASZ,EAAIa,MAAM,IAC7pBC,EAAkB,G,oCCgBtB,GACEC,KAAM,YACNC,KAFF,WAGI,MAAO,CACLJ,MAAO,GACPK,cAAc,IAGlBC,QARF,WASIjB,KAAKkB,cAEPC,QAAS,CACP,WADJ,WACA,8KACA,oBADA,UACA,EADA,OAEA,eAFA,sBAGA,8BAHA,OAKA,kBALA,8CAOIT,QARJ,WASMU,SAASC,OAAS,sBAClBC,QAAQC,IAAI,aACZvB,KAAKwB,QAAQC,KAAK,aCvC2T,I,YCO/UC,EAAY,eACd,EACA5B,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAa,E,+EChBA,QACbC,OADa,YACe,IAAnBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACd,OAAOC,OAAUC,KAAK,aAAc,CAClCH,QACAC,cAGJG,WAPa,WAQX,IAAMrB,EAAQS,SAASC,OAAOY,QAAQ,iDAAkD,MACxF,OAAOH,OAAUC,KAAK,aAAc,CAClCG,UAAWvB","file":"js/chunk-f926146c.7a4f165a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" 這裡是 Dashboard \"),_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/admin/\"}},[_vm._v(\"後台首頁\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"回到前台\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/admin/products\"}},[_vm._v(\"產品列表\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/admin/orders\"}},[_vm._v(\"購物車列表\")]),_vm._v(\" | \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.signout($event)}}},[_vm._v(\"登出\")])],1),(_vm.checkSuccess)?_c('router-view',{attrs:{\"token\":_vm.token}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    這裡是 Dashboard\n    <div id=\"nav\">\n      <router-link to=\"/admin/\">後台首頁</router-link> |\n      <router-link to=\"/\">回到前台</router-link> |\n      <router-link to=\"/admin/products\">產品列表</router-link> |\n      <router-link to=\"/admin/orders\">購物車列表</router-link> |\n      <a href=\"#\" @click.prevent=\"signout\">登出</a>\n    </div>\n    <router-view :token=\"token\" v-if=\"checkSuccess\"></router-view>\n  </div>\n</template>\n\n<script>\nimport authorizationAPI from '../apis/authorization';\n\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      token: '',\n      checkSuccess: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    async checkLogin() {\n      const response = await authorizationAPI.checkToken();\n      if (response.status !== 200) {\n        throw new Error('Get Product Fail');\n      }\n      this.checkSuccess = true;\n    },\n    signout() {\n      document.cookie = 'hexToken=;expires=;';\n      console.log('token 已清除');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=27b8ae12&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import apiHelper from '../utils/helpers';\n\nexport default {\n  signIn({ email, password }) {\n    return apiHelper.post('auth/login', {\n      email,\n      password,\n    });\n  },\n  checkToken() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    return apiHelper.post('auth/check', {\n      api_token: token,\n    });\n  },\n};\n"],"sourceRoot":""}